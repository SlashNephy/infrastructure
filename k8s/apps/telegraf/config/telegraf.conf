[agent]
  interval = "10s"
  round_interval = true
  hostname = "$HOST_NAME"

[[outputs.influxdb_v2]]
  urls = ["http://influxdb.influxdb:8086"]
  token = "${INFLUXDB_TOKEN}"
  organization = "primary"
  bucket = "telegraf"

[[inputs.kubernetes]]
  url = "https://$HOST_IP:10250"
  insecure_skip_verify = true

[[inputs.execd]]
  command = ["/plugins/telegraf-input-mirakurun", "--poll-interval", "10s"]
  environment = [
    "MIRAKURUN_BASE_URL=http://app.mahiron:40772"
  ]
  signal = "none"

[[inputs.execd]]
  command = ["/plugins/telegraf-input-epgstation", "--poll-interval", "10s"]
  environment = [
    "EPGSTATION_BASE_URL=http://app.epgstation:8888"
  ]
  signal = "none"

[[inputs.execd]]
  command = ["/plugins/telegraf-input-sbi-securities", "--poll-interval", "300s"]
  environment = [
    "SBI_SECURITIES_USERNAME=${SBI_SECURITIES_USERNAME}",
    "SBI_SECURITIES_PASSWORD=${SBI_SECURITIES_PASSWORD}"
    "SBI_SECURITIES_DEVICE_COOKIE=${SBI_SECURITIES_DEVICE_COOKIE}",
  ]
  signal = "none"

[[inputs.execd]]
  command = ["/plugins/telegraf-input-bybit", "--poll-interval", "10s"]
  environment = [
    "BYBIT_API_KEY=${BYBIT_API_KEY}",
    "BYBIT_API_SECRET=${BYBIT_API_SECRET}"
  ]
  signal = "none"

# [[inputs.execd]]
#   command = ["/plugins/telegraf-input-rakuten-securities", "--poll-interval", "300s"]
#   environment = [
#     "RAKUTEN_SECURITIES_USERNAME=${RAKUTEN_SECURITIES_USERNAME}",
#     "RAKUTEN_SECURITIES_PASSWORD=${RAKUTEN_SECURITIES_PASSWORD}"
#   ]
#   signal = "none"
