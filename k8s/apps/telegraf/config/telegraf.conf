[agent]
  interval = "10s"
  round_interval = true
  hostname = "$HOST_NAME"

[[outputs.influxdb_v2]]
  urls = ["http://influxdb.influxdb:8086"]
  token = "${INFLUXDB_TOKEN}"
  organization = "primary"
  bucket = "telegraf"

# [[outputs.exec]]
#   command = ["/opt/telegraf/plugins/telegraf-output-mackerel"]
#   timeout = "10s"

[[inputs.cgroup]]

[[inputs.cpu]]
  percpu = true
  totalcpu = true
  report_active = true
  core_tags = true

[[inputs.disk]]

[[inputs.diskio]]

[[inputs.ethtool]]
  interface_exclude = ["lxc*"] # Cilium

[[inputs.internet_speed]]
  interval = "15m"

[[inputs.interrupts]]

[[inputs.kernel]]

[[inputs.kernel_vmstat]]

[[inputs.kubernetes]]
  url = "https://$HOST_IP:10250"
  insecure_skip_verify = true

[[inputs.linux_cpu]]

[[inputs.linux_cpu]]

# [[inputs.sensors]]

[[inputs.mem]]

[[inputs.net]]
  interfaces = ["lo", "enp*", "tailscale0", "cilium*"]
  ignore_protocol_stats = true

[[inputs.nstat]]

[[inputs.netstat]]

# [[inputs.mysql]]

[[inputs.ping]]
  urls = ["google.com", "github.com", "x.com"]
  method = "native"

# [[inputs.postgresql]]

[[inputs.processes]]

[[inputs.swap]]

[[inputs.system]]

# [[inputs.systemd_units]]

# [[inputs.smart]]
#   attributes = true
#   use_sudo = true
#   read_method = "sequential"

[[inputs.temp]]
